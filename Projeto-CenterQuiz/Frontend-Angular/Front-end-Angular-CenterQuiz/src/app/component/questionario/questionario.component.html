
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

<div style="position: absolute; top: 20%; left: 10%;">
	<div class="container-fluid">
		<form>
			<div class="card border-info mb-4" *ngFor="let questao of questionario.questoes; let i = index;">
				<div class="d-flex justify-content-between align-items-center card-header bg-info text-white"
					id="h{{i}}">
					<span>{{questao.titulo}}</span>
					<ng-container *ngIf="respostas[questao.id] !== undefined">
						<ng-container *ngIf="respostas[questao.id].feedback === 'sucesso'">
							<i style="width: 20px;" class="fas fa-check-circle text-success ml-2"></i>
						</ng-container>
						<ng-container *ngIf="respostas[questao.id].feedback === 'erro'">
							<i class="fas fa-times-circle text-danger ml-2"></i>
						</ng-container>
					</ng-container>
				</div>
				<div id="q{{i}}" class="collapse show" aria-labelledby="h{{i}}">
					<div class="card-body">
						<b>{{questao.texto}}</b><br>
						<div class="form-check" *ngFor="let opcao of questao.opcoes; let j = index;">
							<input class="form-check-input" type="checkbox" [id]="'questao'+i+'opcao'+j"
								[name]="'questao'+i" [value]="opcao.valor"
								(click)="selecionarOpcao(questao.id, opcao, j)">
							<label class="form-check-label" [for]="'questao'+i+'opcao'+j">{{opcao.valor}}</label>
						</div>
					</div>
				</div>
			</div>
			<div class="form-group mt-4">
				<button type="button" class="btn btn-primary" [disabled]="enviandoRespostas"
					(click)="enviarRespostas()">Enviar
					respostas</button>
			</div>
		</form>
	</div>
</div>


<div *ngIf="enviandoRespostas" class="modal-backdrop fade show"></div>
<div *ngIf="enviandoRespostas" class="modal fade show d-block" id="enviandoRespostasModal" tabindex="-1" role="dialog"
	aria-labelledby="enviandoRespostasModal" aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title">Enviando respostas...</h5>
				<button type="button" class="close" data-dismiss="modal" aria-label="Close"
					(click)="enviandoRespostas = false">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<div class="modal-body">
				<p>Aguarde enquanto as suas respostas est√£o sendo enviadas...</p>
			</div>
		</div>
	</div>
</div>


<!--
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

<div style="position: absolute; top: 20%; left: 10%;">
	<div class="container-fluid">
		<form>
			<div class="card border-info mb-4" *ngFor="let questao of questionario.questoes; let i = index;">
				<div class="d-flex justify-content-between align-items-center card-header bg-info text-white"
					id="h{{i}}">
					<span>{{questao.titulo}}</span>
					<ng-container *ngIf="respostas[questao.id] !== undefined">
						<ng-container *ngIf="respostas[questao.id].feedback === 'sucesso'">
							<i style="width: 20px;" class="fas fa-check-circle text-success ml-2"></i>
						</ng-container>
						<ng-container *ngIf="respostas[questao.id].feedback === 'erro'">
							<i class="fas fa-times-circle text-danger ml-2"></i>
						</ng-container>
					</ng-container>
				</div>
				<div id="q{{i}}" class="collapse show" aria-labelledby="h{{i}}">
					<div class="card-body">
						<b>{{questao.texto}}</b><br>
						<div class="form-check" *ngFor="let opcao of questao.opcoes; let j = index;">
							<input class="form-check-input" type="checkbox" [id]="'questao'+i+'opcao'+j"
								[name]="questao.id" [value]="opcao.indiceOpcao" [checked]="opcao.selecionada"
								[disabled]="respostas[questao.id] !== undefined"
								(change)="selecionarOpcao(questao.id, opcao, j)">
							<label class="form-check-label" [for]="'questao'+i+'opcao'+j">{{opcao.valor}}</label>
						</div>
					</div>
				</div>
			</div>
			<button class="btn btn-success" type="button" (click)="enviarRespostas()"
				[disabled]="enviandoRespostas">Enviar
				respostas</button>
			<ng-container *ngIf="enviandoRespostas">
				<i class="fas fa-spinner fa-spin ml-2"></i>
			</ng-container>
		</form>
	</div>
</div>

-->